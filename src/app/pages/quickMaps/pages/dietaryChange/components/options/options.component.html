<div class="container">
  <mat-spinner *ngIf="loading" color="accent"></mat-spinner>
  <ng-container *ngIf="!loading">
    <mat-radio-group [value]="dietaryChangeService.modeObs | async"
      (change)="dietaryChangeService.setMode($event.value)">
      <mat-radio-button [value]="dietaryChangeMode.COMPOSITION" title="Composition change">
        Composition change
      </mat-radio-button>
      <br>
      <mat-radio-button [value]="dietaryChangeMode.CONSUMPTION" title="Consumption change">
        Consumption change
      </mat-radio-button>
      <br>
      <mat-radio-button [value]="dietaryChangeMode.FOOD_ITEM" title="Food Item comparison">
        Food Item comparison
      </mat-radio-button>
    </mat-radio-group>


    <mat-divider class="divHorizontal"></mat-divider>
    <mat-divider class="divVertical" [vertical]="true"></mat-divider>


    <div>
      <span class="optionsHeader">Food Item Group:</span>
      <br>
      <mat-form-field appearance="outline">

        <mat-select placeholder="Cereal/Grains">
          <mat-option value="one">Cereal/Grains</mat-option>
          <mat-option value="two">Tubers</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div>
      <span class="optionsHeader">Food Item:</span>
      <br>
      <mat-form-field appearance="outline">
        <mat-select placeholder="Wheat 1">
          <mat-option value="one">Wheat 1</mat-option>
          <mat-option value="two">Item 2</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div>
      <a href="#">
        <mat-icon aria-hidden="false">add_circle_outline</mat-icon>
      </a>
      Add food Item
    </div>

    <div class="right-text">
      <div class="col-md-6">
        <mat-label class="optionsHeader">
          Current Composition
        </mat-label>
        <span class="optionsUnit">(mg/kg)</span>
        <p class="compositionValue">10</p>
      </div>
      <br>
      <div class="col-md-6">
        <mat-label class="optionsHeader">
          Scenario Composition
          <span class="optionsUnit">(mg/kg)</span>
        </mat-label>
        <br>
        <div style="align-items: center;">
          <button type="button" class="btn btn-danger">-5%</button>
          <mat-form-field class="matFormFieldScenario">
            <input matInput placeholder="12">
          </mat-form-field>
          <button type="button" class="btn btn-success">+5%</button>
        </div>
      </div>
    </div>

    <!-- Options panel JON -->
    <div class="item-row" *ngFor="let changeItem of dietaryChangeService.changeItemsObs | async">
      <mat-form-field appearance="fill">
        <mat-label>Food Item Group</mat-label>
        <mat-select #groupSelect (selectionChange)="changeItem">
          <mat-option *ngFor="let foodGroup of foodGroupsDict?.itemsObs | async" [value]="foodGroup">
            {{foodGroup.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Food Item Group</mat-label>
        <mat-select>
          <mat-option *ngFor="let foodItem of groupSelect.value?.foodItems.itemsObs | async" [value]="foodItem">
            {{foodItem.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- options panel JON -->
    </div>
  </ng-container>
</div>